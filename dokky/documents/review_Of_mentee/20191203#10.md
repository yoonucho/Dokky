## 1. SSL 적용 불가 문제

### 1) 문제점
	
 	- 가장 근본적인 문제점은 연동되어있던 아파치와 톰캣이 풀려버렸던것이다.
 	- 그결과  HTTPS 아파치로 접속했을시 계속해서 정적요청들은 처리되는 반면, 동적요청들이 처리되지 못하는 현상발생
 	- HTTPS 아파치로 접속시에는 SSL이 잘 적용 되었다. 하지만 아파치와 톰캣이 연동되어있지않아 톰캣에도 SSL이 적용되지 않았다.
 	- HTTP 로도 같은 현상이 일어났다. 아파치로만 접속가능하고 톰캣은 연동이 되어있지 않았다.
 	
### 2) 시도해본 방법들
	
 	- SSL 설치 및 설정  관련 모두 삭제
	- SSL 재설치(패키지 및 인증서 발급 및 변환)
 	- 톰캣 연동 관련 확인
 	- 톰캣 연동 포트 확인	
 	- OS 방화벽 활성화,비활성화 확인

### 3) 결과
https://dokky.ga/

![image](https://user-images.githubusercontent.com/35983608/83942251-e8717b00-a82c-11ea-82dd-5fa23d2b5906.png)
 	
 	- SSL설치과정에서 os자체에 방화벽을 걸어주었었다. 그래서 톰캣 연동 포트가 막혀있었고 이를 열어줌으로써 해결되었다.
 	- sudo ufw allow 8009/tcp 로 열어줌
 	- 연동 포트가 열리니 톰캣에 따로 SSL을 적용안해도 아파치에 발급된 인증서로 아파치+톰캣에 SSL이 적용되어 동적, 정적 처리가 가능해졌다.

### 4) 느낀점과 배운점

- 문제가 빠르게 풀릴수 있었다. 하지만 계속 돌아왔던 결정적 이유가 블로그의 내용을 세심하게 이해하고 따라하지 못했기 때문이다. 

 	원래 아파치와 톰캣이 연동이 잘되어있었는데, 블로그 포스팅의 SSL적용을 따라하면서 OS 방화벽을 열어버리는 설정을 해버렸던것이다.
 	
 	그래서 잘 연동되었던 것이 갑작스럽게 방화벽으로 포트가막혀 연동이 안된것이였다. 문제의 초점을 톰캣에 SSL발급이 제대로 안된것으로, 그리고 톰캣의 server.xml의 설정을
 	
 	제대로 못한것으로 초점을 두고 문제해결을 해나갔었다. 하지만 근본적인 문제는 아파치와 톰캣의 연동이 풀려버렸던것이다.
 	
 	블로그의 내용을 따라할때는 어떤 내용들인지 이해를 정확히 하고 따라하는게 문제발생을 막을 수 있음을 느꼈다.
 	

- 아파치+톰캣+SSL의 관계와 전체 프로세스에 대한 이해부족

 	지금까지 아파치와 톰캣을 연동해서 웹서버를 돌릴때 SSL을 적용하려면 아파치,톰캣 모두 SSL을 따로따로 적용해줘야 하는줄 알고있었다.
  
 	하지만 아파치와 톰캣이 연동되어있을때는 아파치에만 SSL을 적용해주면 알아서 정적,동적 처리 모두 SSL적용이 된다.
 
 	굳이 불필요하게 톰캣에 SSL적용을 위해서 PEM파일을 JKS로 바꾸고, server.xml 설정해주는등 이러한 과정들이 필요가 없었다.
 
 	톰캣에 SSL을 제대로 적용 못해서 문제가 있는것아닐까?라는 점에 초점을 맞추고 계속 문제를 해결하려하다보니 빠르게 해결할 수 없었다.
 
 	애초부터 톰캣에 따로 ssl적용하는것을 생각하지 않았더라면 빠르게 해결될수도 있었다.
 
- 참고할것들을 다 참고해보고 찾아보고 몇일을 헤매도 답이 안나올때는 보통 실수하거나, 당연하다고 느끼고 넘어갔거나 했었는데 결국 문제가 허무하게 풀렸었다.

  	대단히 무엇인가 크게 잘못하고 있었던것은 아니였다. 당연히 문제가 없을것이라고 느끼는 부분을 간과하고 넘어가는데, 
  	
   	당연시하던 그 부분들을 찾아보면 의외로 문제가 쉽게 풀릴수도 있을것같다. 특히 문제가 장기간 안풀리는 경우에 말이다.
  	
- 문제가 안풀리때 의심스러운 부분들을 리스트로 만들고 하나하나 지워가며 실행해보자.

 	사실 장기간 문제가 안풀리면서 중반쯤에 8009포트가 안열려있음을 확인했었다. 그런데 다른일이 겹쳐서 그부분을 잊어버렸었다. 
 	
 	그리고 한참을 돌아와 다시 포트를 확인했어서 나중에 문제를 해결했다.

 	의심가는 부분들에대한 리스트를 만들어두고 체크해가면서 체계적으로 문제를 해결해가면 중간에 잊어버리거나 하는 실수는 없을것 같다.

- 마인드 컨트롤의 중요성을 느꼈다.

 	현재 프로젝트를 진행하면서 여러가지 다른 일들이 겹치고 동시 진행해야 하는것들이 많다보니 마음이 급한게 사실이다.
 	
 	그런데 급할수록 돌아가라는 말을 또 다시 느낀다.. 어떤것들이 막힐때 마음이 바빠 차근히 접근하지 못하는 경우가 많은것 같다.
 	
 	기업에 들어가서도 개발 일정도 마감기한이 있을것이고, 다른 업무도 겹치는 경우가 많을것 같다. 그럴때 또한 마음이 바쁘게 되고 급하게
 	
 	문제를 해결하려 하다보면 이와 같이 더욱 문제를 찾지못하고 오히려 해결이 오래걸릴것이다. 바쁘고 일정에 쫒기는 환경에서도 다시 마음을 다잡고
 	
 	차분히 해결하려는 생각을 가지는 훈련을 해야할것 같다.  
 	
- 어찌됬던 SSL적용 완료..

 	장기간 안풀리던 문제를 해결해버리니 이처럼 뿌듯할수가 없다ㅎㅎ 지금까지 해결했던것들중에 가장 큰 산을 넘은것 같다.
 	
 	
     



 